# =============================================================================
# AURITY FRAMEWORK - LOCAL ENVIRONMENT CONFIGURATION
# =============================================================================
# Este archivo contiene configuraciones sensibles y NO debe ser commiteado
# Sprint: SPR-2025W44 (2025-10-27 a 2025-11-10)
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://fi:CHANGE_ME@localhost:5432/fi_prod
POSTGRES_USER=fi
POSTGRES_PASSWORD=CHANGE_ME
POSTGRES_DB=fi_prod

# TimescaleDB (IoT metrics)
METRICS_DB_URL=postgresql://metrics:CHANGE_ME@localhost:5432/metrics
METRICS_DB_PASSWORD=CHANGE_ME

# -----------------------------------------------------------------------------
# STORAGE CONFIGURATION
# -----------------------------------------------------------------------------
# MinIO Object Storage
MINIO_ENDPOINT=localhost:9000
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=CHANGE_ME
MINIO_ACCESS_KEY=CHANGE_ME
MINIO_SECRET_KEY=CHANGE_ME

# Storage paths (local NAS)
AURITY_STORAGE_PATH=/volume1/aurity
AUDIO_STORAGE_PATH=/volume1/aurity/audio
DOCUMENTS_STORAGE_PATH=/volume1/aurity/documents

# -----------------------------------------------------------------------------
# REDIS CACHE
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# VECTOR DATABASE (Qdrant)
# -----------------------------------------------------------------------------
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# -----------------------------------------------------------------------------
# SEARCH ENGINES
# -----------------------------------------------------------------------------
# Meilisearch
MEILI_HOST=http://localhost:7700
MEILI_MASTER_KEY=CHANGE_ME
MEILI_NO_ANALYTICS=true

# -----------------------------------------------------------------------------
# AI/ML SERVICES
# -----------------------------------------------------------------------------
# Whisper (Speech-to-Text)
WHISPER_MODEL=large-v3
WHISPER_ENDPOINT=http://localhost:8001
WHISPER_DEVICE=cuda  # or 'cpu'

# Claude API (for processing and markers)
CLAUDE_API_KEY=
ANTHROPIC_API_KEY=

# -----------------------------------------------------------------------------
# FREE INTELLIGENCE CORE
# -----------------------------------------------------------------------------
FI_CORE_URL=http://localhost:8080
FI_CORE_API_KEY=
FI_INGESTION_BUFFER_SIZE=10485760  # 10MB
FI_VAD_THRESHOLD=-40  # dB
FI_VAD_WINDOW=1.5  # seconds

# -----------------------------------------------------------------------------
# MONITORING & OBSERVABILITY
# -----------------------------------------------------------------------------
# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME
GRAFANA_PORT=3000

# Prometheus
PROMETHEUS_PORT=9090

# -----------------------------------------------------------------------------
# MQTT BROKER (IoT)
# -----------------------------------------------------------------------------
MQTT_BROKER_URL=mqtt://localhost:1883
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_TLS_PORT=8883

# -----------------------------------------------------------------------------
# SECURITY & ENCRYPTION
# -----------------------------------------------------------------------------
# JWT Configuration
JWT_SECRET=CHANGE_ME_GENERATE_STRONG_SECRET
JWT_EXPIRY=900  # 15 minutes
JWT_REFRESH_EXPIRY=604800  # 7 days

# Encryption keys
ENCRYPTION_KEY=CHANGE_ME_32_BYTE_KEY
ENCRYPTION_ALGORITHM=AES-256-GCM

# Clinic-specific signing key
CLINIC_PRIVATE_KEY_PATH=/volume1/aurity/keys/clinic-private.pem
CLINIC_PUBLIC_KEY_PATH=/volume1/aurity/keys/clinic-public.pem

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000
API_VERSION=v1
LOG_LEVEL=debug

# Clinic configuration
CLINIC_ID=
CLINIC_NAME=
CLINIC_NUC=

# -----------------------------------------------------------------------------
# FEATURES FLAGS (Sprint Restrictions)
# -----------------------------------------------------------------------------
# Sprint SPR-2025W44 restrictions:
FEATURE_CAMERA_ENABLED=false  # Sin c√°maras
FEATURE_PHI_ENABLED=false  # Sin PHI (Protected Health Information)
FEATURE_OFFLINE_MODE=false  # Sin modo offline (por ahora)

# Module enablement (Fase 1-2)
MODULE_FI_COLD_ENABLED=true
MODULE_FI_ENTRY_ENABLED=true
MODULE_FI_ASSETS_ENABLED=false
MODULE_FI_CALIBRATION_ENABLED=false
MODULE_FI_LOGISTICS_ENABLED=false

# Module enablement (Fase 3-4)
MODULE_FI_CORE_ENABLED=false
MODULE_FI_TELE_ENABLED=false
MODULE_FI_RECORDS_ENABLED=false

# -----------------------------------------------------------------------------
# BACKUP & RETENTION
# -----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2am
BACKUP_RETENTION_DAYS=30
OFFSITE_BACKUP_ENABLED=false

# Retention policies
RETENTION_OPERATIONAL_DAYS=90
RETENTION_EVIDENCE_DAYS=1825  # 5 years
RETENTION_LEGAL_HOLD_INDEFINITE=true

# -----------------------------------------------------------------------------
# EXTERNAL SERVICES
# -----------------------------------------------------------------------------
# Email notifications
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@aurity.local

# WhatsApp Business API (for alerts)
WHATSAPP_API_KEY=
WHATSAPP_PHONE_NUMBER=

# -----------------------------------------------------------------------------
# DEVELOPMENT TOOLS
# -----------------------------------------------------------------------------
DEBUG=false
VERBOSE_LOGGING=true
ENABLE_API_DOCS=true
ENABLE_PLAYGROUND=true

# -----------------------------------------------------------------------------
# NOTES
# -----------------------------------------------------------------------------
# 1. Generate strong passwords with: openssl rand -base64 32
# 2. Generate encryption key (32 bytes): openssl rand -hex 32
# 3. For production, use a secrets manager (e.g., HashiCorp Vault)
# 4. Review security settings before deploying to production
# 5. Update CLINIC_ID and CLINIC_NAME during onboarding
# =============================================================================
